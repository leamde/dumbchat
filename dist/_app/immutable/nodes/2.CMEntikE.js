import"../chunks/Bzak7iHL.js";import{i as M}from"../chunks/NirG4uuE.js";import{K as O,M as k,F as a,o as w,P as Q,Q as u,S as t,R as v,V as p,T as r,O as R,m as U,W as V}from"../chunks/Dhwy5ctr.js";import{e as S,s as L}from"../chunks/CKqPIVtP.js";import{i as N}from"../chunks/DNpukerR.js";import{b,r as E}from"../chunks/CjRFqlaG.js";import{g as j}from"../chunks/RCnfDSNr.js";async function P(m,d={},o){return window.__TAURI_INTERNALS__.invoke(m,d,o)}var q=k('<p class="svelte-1uha8ag"> </p>'),z=k('<p class="svelte-1uha8ag"> </p> <p class="svelte-1uha8ag">Write this down! It will not be shown again.</p>',1),B=k('<main class="svelte-1uha8ag"><h1 class="svelte-1uha8ag">DumbChat</h1> <div class="options svelte-1uha8ag"><input type="text" placeholder="Enter username" class="svelte-1uha8ag"/> <input type="password" placeholder="Enter password" class="svelte-1uha8ag"/> <input type="text" placeholder="Enter recovery key (optional)" class="svelte-1uha8ag"/> <button class="svelte-1uha8ag">Login</button> <button class="svelte-1uha8ag">Create New Instance</button></div> <!> <!></main>');function ae(m,d){O(d,!1);let o=p(""),n=p(""),i=p(""),s=p(""),x=p(!1);async function T(){if(!a(n)&&!a(i)){r(s,"Please enter a password or recovery key");return}try{const e=await P("login",{password:a(n),recoveryKey:a(i)||null});r(s,e.message),e.success&&j("/chat")}catch(e){r(s,`Login failed: ${e}`)}}async function $(){if(!a(o)||!a(n)){r(s,"Please enter a username and password");return}try{const e=await P("create_account",{username:a(o),password:a(n)});r(s,e.message),e.success&&e.data&&(r(x,!0),r(i,e.data))}catch(e){r(s,`Error creating account: ${e}`)}}M();var f=B(),h=t(u(f),2),g=u(h);E(g);var _=t(g,2);E(_);var y=t(_,2);E(y);var I=t(y,2),A=t(I,2);v(h);var K=t(h,2);{var C=e=>{var c=q(),l=u(c,!0);v(c),R(()=>L(l,a(s))),w(e,c)};N(K,e=>{a(s)&&e(C)})}var W=t(K,2);{var D=e=>{var c=z(),l=U(c),F=u(l);v(l),V(2),R(()=>L(F,`Recovery Key: ${a(i)??""}`)),w(e,c)};N(W,e=>{a(x)&&e(D)})}v(f),b(g,()=>a(o),e=>r(o,e)),b(_,()=>a(n),e=>r(n,e)),b(y,()=>a(i),e=>r(i,e)),S("click",I,T),S("click",A,$),w(m,f),Q()}export{ae as component};
